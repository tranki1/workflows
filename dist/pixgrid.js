var pixgrid=function(){function o(t){var i=(window.innerWidth-t.width)/2,e=(window.innerHeight-t.height)/2;return t.style.top=e+"px",t.style.left=i+"px",t}for(var t=document.querySelectorAll(".pixgrid"),i=0;i<t.length;i++)t[i].addEventListener("click",function(t){if("IMG"===t.target.tagName){var i=document.createElement("div");i.id="overlay",document.body.appendChild(i),i.style.position="absolute",i.style.top=0,i.style.backgroundColor="rgba(0,0,0,0.7)",i.style.cursor="pointer",i.style.width=window.innerWidth+"px",i.style.height=window.innerHeight+"px",i.style.top=window.pageYOffset+"px",i.style.left=window.pageXOffset+"px";var e=t.target.src,n=document.createElement("img");n.id="largeImage",n.src=e.substr(0,e.length-7)+".jpg",n.style.display="block",n.style.position="absolute",n.addEventListener("load",function(){this.height>window.innerHeight&&(this.ratio=window.innerHeight/this.height,this.height=this.height*this.ratio,this.width=this.width*this.ratio),this.width>window.innerWidth&&(this.ratio=window.innerWidth/this.width,this.height=this.height*this.ratio,this.width=this.width*this.ratio),o(this),i.appendChild(n)}),n.addEventListener("click",function(){i&&(window.removeEventListener("resize",window,!1),window.removeEventListener("scroll",window,!1),i.parentNode.removeChild(i))},!1),window.addEventListener("scroll",function(){i&&(i.style.top=window.pageYOffset+"px",i.style.left=window.pageXOffset+"px")},!1),window.addEventListener("resize",function(){i&&(i.style.width=window.innerWidth+"px",i.style.height=window.innerHeight+"px",i.style.top=window.pageYOffset+"px",i.style.left=window.pageXOffset+"px",o(n))},!1)}},!1)}();